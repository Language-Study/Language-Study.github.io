/* ===== TAB SYSTEM ===== */
.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.tab-button {
    transition: all 0.2s ease-in-out;
    position: relative;
    outline: none;
}

.tab-button:focus {
    outline: 2px solid currentColor;
    outline-offset: 2px;
}

.tab-button.active {
    background-color: #3b82f6 !important;
    color: #fff !important;
    font-weight: 500;
}

/* ===== CATEGORY SYSTEM ===== */
.category-content {
    display: none;
}

.category-content.expanded {
    display: block;
}

.category-header {
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.category-header:hover {
    background-color: #f3f4f6;
}

.category-header svg {
    transition: transform 0.2s ease;
}

.min-h-40 {
    min-height: 40px;
}

/* ===== BUTTON STYLES ===== */
.progress-button {
    transition: transform 0.2s ease;
    background: none;
    box-shadow: none;
}

.progress-button:hover {
    transform: scale(1.1);
}

.delete-button {
    transition: all 0.2s ease;
    background: none;
    box-shadow: none;
}

.delete-button:hover {
    background-color: #fee2e2;
    transform: scale(1.1);
}

.feature-button {
    transition: all 0.2s ease;
}

.feature-button:hover {
    background-color: inherit;
}

/* ===== DARK MODE STYLES ===== */
@media (prefers-color-scheme: dark) {

    /* Base colors */
    body,
    html,
    .main-bg,
    .bg-gray-50,
    .bg-white,
    body.bg-gray-100,
    header,
    .header,
    .top-bar {
        background-color: #181a1b !important;
        color: #e8e6e3 !important;
    }

    /* Generic containers */
    .tab-button,
    .category-header,
    .category-content.expanded,
    .settings,
    .btn-secondary,
    .white-bg,
    .bg-blue-50,
    .bg-yellow-50,
    .bg-info,
    .bg-warning,
    .progress-legend,
    .legend,
    .status-legend,
    .mentor-access,
    .mentor-section,
    .container,
    .vocab-tracker,
    .tracker-card,
    .tracker-container,
    .card {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border-color: #23272a !important;
    }

    /* Tab and active states */
    .tab-button.active {
        background-color: #2c2f33;
        color: #fff;
    }

    .tab.active {
        background-color: #2563eb !important;
        color: #fff !important;
    }

    /* Button colors */
    .settings,
    .btn-secondary {
        border: 1px solid #888 !important;
    }

    .logout,
    .btn-danger,
    .Delete {
        background-color: #e74c3c !important;
        color: #fff !important;
        border: 1px solid #c0392b !important;
    }

    .progress-button,
    .add-btn,
    .plus-btn,
    .blue-btn,
    .modal-footer button,
    .modal-footer .btn {
        background-color: #2563eb !important;
        color: #fff !important;
        border: 1px solid #1e40af !important;
    }

    /* Form inputs */
    input,
    textarea,
    select,
    .search-box,
    .search-input,
    .modal input,
    .modal textarea,
    .modal select,
    .modal-content input,
    .modal-content textarea {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border: 1px solid #444 !important;
    }

    input::placeholder,
    textarea::placeholder {
        color: #b0b3b8 !important;
        opacity: 1;
    }

    input[type="password"],
    input[type="password"]::placeholder {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border: 1px solid #444 !important;
    }

    input[type="password"]::placeholder {
        color: #b0b3b8 !important;
    }

    /* Checkboxes */
    input[type="checkbox"],
    .modal input[type="checkbox"],
    .modal-content input[type="checkbox"],
    #settingsModal input[type="checkbox"] {
        accent-color: #2563eb !important;
        background-color: #23272a !important;
        border: 1px solid #444 !important;
    }

    /* Text colors */
    .no-items,
    .empty-message,
    .text-gray-500,
    .text-gray-600,
    .hint,
    .tip,
    .text-xs,
    .text-sm {
        color: #b0b3b8 !important;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    .header-title,
    .vocab-title,
    .card *,
    .container *,
    .vocab-tracker *,
    .tracker-card *,
    .tracker-container *,
    .mentor-access *,
    .mentor-section * {
        color: #e8e6e3 !important;
    }

    .text-gray-800 {
        color: #e8e6e3 !important;
    }

    .text-blue-500 {
        color: #6cb4ff !important;
    }

    .text-blue-500:hover,
    a.text-blue-500:hover {
        text-decoration: underline;
    }

    /* Badge and achievement styles */
    .earned-badge,
    .badge-item,
    #badgesContainer .achieved,
    .achievements-badge {
        background-color: #1a3a2a !important;
        border: 2px solid #4ade80 !important;
        color: #e0e6ed !important;
    }

    .earned-badge .text-green-600,
    .badge-item .text-green-600,
    .achievements-badge .text-green-600 {
        color: #86efac !important;
    }

    .unearned-badge,
    .badge-item.locked,
    #badgesContainer .not-achieved {
        background-color: #2c2f33 !important;
        border: 2px solid #4b5563 !important;
        opacity: 0.6;
    }

    .unearned-badge .text-gray-500,
    .badge-item.locked .text-gray-500 {
        color: #888888 !important;
    }

    /* Search and filter bars */
    .search-bar,
    .filter-bar,
    .search-container,
    .vocab-search,
    .portfolio-search {
        background-color: #23272a !important;
        border: 1px solid #444 !important;
    }

    .search-bar input,
    .filter-bar input,
    .search-container input {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border: 1px solid #444 !important;
    }

    /* Language selection dropdown */
    #languageSelect,
    .language-select,
    select[name="language"] {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border: 1px solid #444 !important;
    }

    /* Specific component backgrounds */
    .vocab-item-container,
    .portfolio-item-container,
    .portfolio-item,
    .skill-item,
    .vocab-item {
        background-color: #2c2f33 !important;
        border: 1px solid #404447 !important;
        color: #e8e6e3 !important;
    }

    .vocab-item-container:hover,
    .portfolio-item-container:hover,
    .portfolio-item:hover,
    .skill-item:hover,
    .vocab-item:hover {
        background-color: #35393d !important;
        border-color: #555555 !important;
    }

    /* Category and tab system */
    .category-item,
    .category-tab,
    .tab-list li,
    .category-selector option {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border: 1px solid #404447 !important;
    }

    .category-item.active,
    .category-tab.active,
    .tab-list li.active {
        background-color: #2563eb !important;
        border-color: #2563eb !important;
        color: #fff !important;
    }

    /* Mentor view and access controls */
    .mentor-access-container,
    .mentor-view-indicator,
    .mentor-badge {
        background-color: #2d2017 !important;
        border: 1px solid #6b5d47 !important;
        color: #e8e6e3 !important;
    }

    .mentor-access-container .text-sm,
    .mentor-view-indicator .text-sm {
        color: #d4af37 !important;
    }

    /* Specific modal overrides for settingsModal */
    #settingsModal {
        background-color: rgba(0, 0, 0, 0.8) !important;
    }

    #settingsModal .modal-body,
    #settingsModal .rounded-lg,
    #settingsModal .bg-white {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
    }

    #settingsModal .border,
    #settingsModal input:focus,
    #settingsModal textarea:focus {
        border-color: #2563eb !important;
    }

    #settingsModal #closeSettingsBtn {
        color: #b0b3b8 !important;
    }

    #settingsModal #closeSettingsBtn:hover {
        color: #e8e6e3 !important;
    }

    #settingsModal h2 {
        color: #e8e6e3 !important;
    }

    #settingsModal label {
        color: #e8e6e3 !important;
    }

    #settingsModal textarea {
        background-color: #181a1b !important;
        color: #e8e6e3 !important;
        border: 1px solid #444 !important;
    }

    /* Settings modal buttons */
    #settingsModal button,
    #settingsModal [data-tab-target] {
        background-color: #2c2f33 !important;
        color: #e8e6e3 !important;
        border: 1px solid #404447 !important;
    }

    #settingsModal button:hover,
    #settingsModal [data-tab-target]:hover {
        background-color: #35393d !important;
        border-color: #555555 !important;
    }

    #settingsModal #googleSignInToggleBtn,
    #settingsModal #changeEmailBtn,
    #settingsModal #resetPasswordBtn {
        background-color: #2563eb !important;
        color: #fff !important;
        border: 1px solid #1e40af !important;
    }

    #settingsModal #googleSignInToggleBtn:hover,
    #settingsModal #changeEmailBtn:hover,
    #settingsModal #resetPasswordBtn:hover {
        background-color: #1e40af !important;
        border-color: #1e3a8a !important;
    }

    #settingsModal #regenerateMentorCodeBtn {
        background-color: #223355 !important;
        color: #a3cbff !important;
        border: 1px solid #395b8c !important;
    }

    #settingsModal #regenerateMentorCodeBtn:hover {
        background-color: #2d4266 !important;
    }

    #settingsModal #deleteAccountBtn {
        background-color: #3a1a1a !important;
        color: #ff6b6b !important;
        border: 1px solid #8b3a3a !important;
    }

    #settingsModal #deleteAccountBtn:hover {
        background-color: #4d2020 !important;
        border-color: #a85555 !important;
    }

    #settingsModal [data-tab-target].active {
        background-color: #2563eb !important;
        color: #fff !important;
        border-color: #2563eb !important;
    }

    /* Welcome modal */
    .welcome-modal,
    .welcome-modal-content {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border: 1px solid #404447 !important;
    }

    .welcome-modal h2,
    .welcome-modal-content h2 {
        color: #6cb4ff !important;
    }

    .welcome-modal p,
    .welcome-modal-content p {
        color: #b0b3b8 !important;
    }

    /* Notifications and status */
    .notification,
    .message,
    .alert,
    .status-message {
        background-color: #2c2f33 !important;
        color: #e8e6e3 !important;
        border-color: #404447 !important;
    }

    .notification.success,
    .message.success,
    .alert.success {
        border-color: #4ade80 !important;
        background-color: #1a3a2a !important;
    }

    .notification.success .text-sm,
    .message.success .text-sm {
        color: #86efac !important;
    }

    .notification.error,
    .message.error,
    .alert.error {
        border-color: #f87171 !important;
        background-color: #3a1a1a !important;
    }

    .notification.error .text-sm,
    .message.error .text-sm {
        color: #fca5a5 !important;
    }

    /* Loading and spinner styles */
    .loading-spinner,
    .spinner,
    .loader {
        border-color: rgba(255, 255, 255, 0.1) !important;
        border-top-color: #2563eb !important;
    }

    .loading-text,
    .spinner-text {
        color: #b0b3b8 !important;
    }

    /* Progress bars */
    .progress-bar,
    .progress-container,
    .progress-track {
        background-color: #404447 !important;
    }

    .progress-fill,
    .progress-bar.active {
        background-color: #2563eb !important;
    }

    .progress-bar.success {
        background-color: #4ade80 !important;
    }

    .progress-bar.warning {
        background-color: #facc15 !important;
    }

    .progress-bar.error {
        background-color: #f87171 !important;
    }

    /* Scrollbars */
    ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
    }

    ::-webkit-scrollbar-track {
        background: #181a1b;
    }

    ::-webkit-scrollbar-thumb {
        background: #404447;
        border-radius: 5px;
    }

    ::-webkit-scrollbar-thumb:hover {
        background: #555555;
    }

    /* Focus states for better keyboard navigation */
    button:focus,
    input:focus,
    select:focus,
    textarea:focus {
        outline: 2px solid #2563eb !important;
        outline-offset: 2px !important;
    }

    /* Link styles */
    a {
        color: #6cb4ff !important;
    }

    a:hover {
        text-decoration: underline;
        color: #a3cbff !important;
    }

    a:visited {
        color: #9fb3ff !important;
    }
}