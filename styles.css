.tab-content {
    display: none;
}

.tab-content.active {
    display: block;
}

.tab-button {
    transition: all 0.2s ease-in-out;
    position: relative;
    outline: none;
}

.tab-button:focus {
    outline: 2px solid currentColor;
    outline-offset: 2px;
}

.tab-button.active {
    font-weight: 500;
}

.category-content {
    display: none;
}

.category-content.expanded {
    display: block;
}

.min-h-40 {
    min-height: 40px;
}

.category-header svg {
    transition: transform 0.2s ease;
}

.category-header:hover {
    background-color: #f3f4f6;
}

.progress-button {
    transition: transform 0.2s ease;
}

.progress-button:hover {
    transform: scale(1.1);
}

.delete-button {
    transition: all 0.2s ease;
}

.delete-button:hover {
    background-color: #fee2e2;
    transform: scale(1.1);
}

/* --- Consolidated Dark Mode Styles --- */
@media (prefers-color-scheme: dark) {

    body,
    html,
    .main-bg,
    .bg-gray-50,
    .bg-white {
        background-color: #181a1b !important;
        color: #e8e6e3 !important;
    }

    header,
    .header,
    .top-bar {
        background-color: #181a1b;
        color: #e8e6e3;
    }

    .tab-button,
    .category-header:hover,
    .category-content.expanded,
    .progress-button,
    .settings,
    .btn-secondary,
    .white-bg,
    .bg-blue-50,
    .bg-yellow-50,
    .bg-info,
    .bg-warning,
    .progress-legend,
    .legend,
    .status-legend,
    .mentor-access,
    .mentor-section,
    .container,
    .vocab-tracker,
    .tracker-card,
    .tracker-container,
    .card,
    .category-content,
    .category-header {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border-color: #23272a !important;
    }

    .tab-button.active {
        background-color: #2c2f33;
        color: #fff;
    }

    .tab.active {
        background-color: #2563eb !important;
        color: #fff !important;
    }

    .settings,
    .btn-secondary {
        border: 1px solid #888 !important;
    }

    .logout,
    .btn-danger,
    .Delete {
        background-color: #e74c3c !important;
        color: #fff !important;
        border: 1px solid #c0392b !important;
    }

    .progress-button,
    .add-btn,
    .plus-btn,
    .blue-btn,
    .modal-footer button,
    .modal-footer .btn {
        background-color: #2563eb !important;
        color: #fff !important;
        border: 1px solid #1e40af !important;
    }

    input,
    textarea,
    select,
    .search-box,
    .search-input,
    .modal input,
    .modal textarea,
    .modal select,
    .modal-content input,
    .modal-content textarea {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
        border: 1px solid #444 !important;
    }

    input::placeholder,
    textarea::placeholder {
        color: #b0b3b8 !important;
        opacity: 1;
    }

    .no-items,
    .empty-message {
        color: #b0b3b8 !important;
    }

    .card *,
    .container *,
    .vocab-tracker *,
    .tracker-card *,
    .tracker-container * {
        color: #e8e6e3 !important;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6,
    .header-title,
    .vocab-title {
        color: #e8e6e3 !important;
    }

    .mentor-access *,
    .mentor-section * {
        color: #e8e6e3 !important;
    }

    .status-icon.not-started {
        color: #b0b3b8 !important;
    }

    .status-icon.in-progress {
        color: #facc15 !important;
    }

    .status-icon.mastered {
        color: #4ade80 !important;
    }

    .mentor-btn,
    .btn-mentor,
    .view-mentor-btn {
        background-color: #f59e42 !important;
        color: #23272a !important;
        border: 1px solid #b45309 !important;
    }

    .user-info,
    .logged-in-as,
    .login-status,
    .modal,
    .modal-content,
    .modal-header,
    .modal-body,
    .modal-footer,
    .modal *,
    .modal label,
    .modal-content label,
    .modal label *,
    .modal-content label * {
        color: #e8e6e3 !important;
        background-color: #23272a !important;
        border-color: #23272a !important;
    }

    .modal input[type="checkbox"],
    .modal-content input[type="checkbox"],
    #settingsModal input[type="checkbox"] {
        accent-color: #2563eb !important;
        background-color: #23272a !important;
        border: 1px solid #444 !important;
    }

    #userEmail {
        color: #e8e6e3 !important;
        opacity: 1 !important;
        font-weight: 400 !important;
    }

    #settingsModal>div,
    #settingsModal .bg-white,
    #settingsModal .rounded-lg,
    #settingsModal .shadow,
    #settingsModal .p-8 {
        background-color: #23272a !important;
        color: #e8e6e3 !important;
    }

    #settingsModal label,
    #settingsModal .text-gray-700,
    #settingsModal .text-gray-600,
    #settingsModal .text-gray-500,
    #settingsModal .text-xs,
    #settingsModal .block {
        color: #e8e6e3 !important;
    }

    #settingsModal input,
    #settingsModal textarea {
        background-color: #181a1b !important;
        color: #e8e6e3 !important;
        border: 1px solid #444 !important;
    }

    #settingsModal button {
        color: #fff !important;
    }

    #settingsModal #deleteAccountBtn {
        background-color: #23272a !important;
        color: #ff6b6b !important;
        border: 1px solid #ff6b6b !important;
    }

    #settingsModal #deleteAccountBtn:hover {
        background-color: #3a2323 !important;
    }

    .icon-btn,
    .icon-button,
    .timer-icon,
    .status-button.progress-button {
        background: none !important;
        box-shadow: none !important;
    }

    .text-gray-500,
    .text-gray-600,
    .hint,
    .tip,
    .text-xs,
    .text-sm {
        color: #b0b3b8 !important;
    }

    /* Cards and progress metrics */
    .card {
        background: #23272f;
        color: #e0e6ed;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
    }

    .card .card-title {
        color: #6cb4ff;
    }

    .card .card-title.skills {
        color: #6fcf97;
    }

    .card .card-subtitle,
    .card .card-progress {
        color: #b0b8c1;
    }

    #progressMetrics>div {
        background-color: #23272f !important;
    }

    #progressMetrics .font-bold.text-blue-700 {
        color: #6cb4ff !important;
    }

    #progressMetrics .font-bold.text-green-700 {
        color: #6fcf97 !important;
    }

    #progressMetrics .text-sm {
        color: #e0e6ed !important;
    }

    #progressMetrics .text-xs.text-gray-500 {
        color: #b0b8c1 !important;
    }

    /* Buttons */
    #regenerateMentorCodeBtn,
    .feature-button {
        background-color: #223355 !important;
        color: #a3cbff !important;
        border-color: #395b8c !important;
    }

    #regenerateMentorCodeBtn:hover,
    .feature-button:hover {
        background-color: #2d4266 !important;
    }

    .delete-button {
        background-color: #23272f !important;
        color: #ff6b6b !important;
    }

    .delete-button:hover {
        background-color: #3a2323 !important;
    }

    #cancelCategoryBtn {
        background-color: #2a2d32 !important;
        color: #e0e6ed !important;
    }

    #cancelCategoryBtn:hover {
        background-color: #35383d !important;
    }

    /* Achievements/Earned Badges */
    #badgesContainer>.bg-green-50 {
        background-color: #193c2f !important;
        border-color: #3ba97b !important;
    }

    #badgesContainer>.bg-green-50 .text-green-600 {
        color: #6ee7b7 !important;
    }

    #badgesContainer>.bg-green-50 .font-semibold,
    #badgesContainer>.bg-green-50 .text-xs {
        color: #e0e6ed !important;
    }

    /* Improves translation visibility in dark mode */
    .translation-text {
        color: #e5e7eb !important;
        /* Tailwind's gray-200 */
        font-style: italic;
        font-weight: 500;
        letter-spacing: 0.02em;
    }
}

/* --- Responsive Styles for Vocabulary Tab (Mobile Friendly) --- */
@media (max-width: 600px) {
    .tab-content.active .bg-white.rounded-lg.shadow.p-6 {
        padding: 1rem !important;
    }

    .tab-content.active h2 {
        font-size: 1.25rem !important;
        margin-bottom: 1rem !important;
    }

    /* Stack and space select and delete button */
    .tab-content.active .space-y-4.mb-4>div.flex.gap-2.items-center {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }

    .tab-content.active .space-y-4.mb-4>div.flex.gap-2.items-center>select,
    .tab-content.active .space-y-4.mb-4>div.flex.gap-2.items-center>button {
        width: 100% !important;
        min-width: 0 !important;
        margin: 0 !important;
        font-size: 1rem !important;
        height: 44px !important;
    }

    /* Stack and space vocab/translation inputs and add button */
    .tab-content.active .space-y-4.mb-4>.flex.gap-2 {
        flex-direction: column !important;
        align-items: stretch !important;
        gap: 0.5rem !important;
        margin-bottom: 0.5rem !important;
    }

    .tab-content.active .space-y-4.mb-4>.flex.gap-2>input,
    .tab-content.active .space-y-4.mb-4>.flex.gap-2>button {
        width: 100% !important;
        min-width: 0 !important;
        font-size: 1rem !important;
        height: 44px !important;
        margin: 0 !important;
    }

    .tab-content.active .space-y-4.mb-4>.flex.gap-2>button {
        padding: 0 !important;
        display: flex !important;
        align-items: center !important;
        justify-content: center !important;
        font-size: 1.5rem !important;
    }

    /* Add spacing below add button */
    .tab-content.active .space-y-4.mb-4>.flex.gap-2+p.text-xs {
        margin-top: 0.5rem !important;
    }

    /* Make category input fields full width */
    .tab-content.active .space-y-4.mb-4>.flex.flex-wrap.gap-2.hidden>input,
    .tab-content.active .space-y-4.mb-4>.flex.flex-wrap.gap-2.hidden>button {
        width: 100% !important;
        min-width: 0 !important;
    }

    .tab-content.active .text-xs.text-gray-500.mt-1 {
        font-size: 0.75rem !important;
        margin-top: 0.5rem !important;
    }

    #vocabularyList>div {
        font-size: 1rem !important;
    }
}